{
  "simple": {
    "query_type": "simple",
    "queries": [
      {
        "name": "simple_select_authors",
        "query": "db.author.find({}, { author_fullname: 1, _id: 0 })"
      },
      {
        "name": "simple_count",
        "query": "db.author.distinct('author_fullname').length"
      },
      {
        "name": "simple_unique",
        "query": "db.author.distinct('author_fullname')"
      }
    ]
  },
  "joins": {
    "query_type": "join",
    "queries": [
      {
        "name": "join_select_authors",
        "query": "db.post.aggregate([{ $lookup: { from: 'author', localField: 'author_fullname', foreignField: 'author_fullname', as: 'author_info' } }, { $unwind: '$author_info' }, { $project: { author_fullname: 1, author: '$author_info.author', _id: 0 } }])"
      },
      {
        "name": "join_count",
        "query": "db.post.aggregate([{ $lookup: { from: 'author', localField: 'author_fullname', foreignField: 'author_fullname', as: 'author_info' } }, { $unwind: '$author_info' }, { $group: { _id: null, count: { $sum: 1 } } }])"
      },
      {
        "name": "join_unique",
        "query": "db.post.aggregate([{ $lookup: { from: 'author', localField: 'author_fullname', foreignField: 'author_fullname', as: 'author_info' } }, { $unwind: '$author_info' }, { $group: { _id: '$author_fullname' } }])"
      }
    ]
  },
  "advanced": {
    "query_type": "advanced",
    "queries": [
      {
        "name": "advanced_select_authors",
        "query": "db.author.aggregate([{ $match: { author_premium: true } }, { $project: { author_fullname: 1, _id: 0 } }])"
      },
      {
        "name": "advanced_count",
        "query": "db.author.aggregate([{ $match: { author_premium: true } }, { $group: { _id: null, count: { $sum: 1 } } }])"
      },
      {
        "name": "advanced_unique",
        "query": "db.author.distinct('author_fullname', { author_premium: true })"
      }
    ]
  },
  "nested": {
    "query_type": "nested",
    "queries": [
      {
        "name": "nested_authors_with_more_than_100_comments",
        "query": "db.comment.aggregate([{ $group: { _id: '$author_fullname', comment_count: { $sum: 1 } } }, { $match: { comment_count: { $gt: 100 } } }, { $project: { _id: 0, author_fullname: '$_id' } }])"
      },
      {
        "name": "simple_unique_subreddits",
        "query": "db.post.aggregate([{ $lookup: { from: 'subreddit', localField: 'subreddit_id', foreignField: 'name', as: 'subreddit_info' } }, { $unwind: '$subreddit_info' }, { $group: { _id: '$subreddit_info.display_name' } }])"
      },
      {
        "name": "simple_unique_authors",
        "query": "db.post.aggregate([{ $group: { _id: '$author_fullname' } }])"
      }
    ]
  }
}
